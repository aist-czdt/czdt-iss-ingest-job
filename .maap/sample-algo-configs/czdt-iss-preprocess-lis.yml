algorithm_description: CZDT ISS LIS Preprocessing Pipeline - Runs LIS data preprocessing followed by the full localized pipeline
algorithm_name: czdt-iss-preprocess-lis
algorithm_version: localized-pipeline
build_command: czdt-iss-ingest-job/.maap/localized-pipeline/build.sh
disk_space: 50GB
docker_container_url: mas.maap-project.org/root/maap-workspaces/custom_images/maap_base:v4.2.0
inputs:
  config: []
  file: []
  positional:
  - default: none
    description: S3 URL of raw LIS NetCDF file for preprocessing
    name: input_s3
    required: true
  - default: none
    description: Collection Concept ID for the LIS data
    name: collection_id
    required: true
  - default: none
    description: Target S3 bucket for uploading processed files
    name: s3_bucket
    required: true
  - default: ""
    description: Optional S3 prefix (folder path) within the bucket
    name: s3_prefix
    required: false
  - default: none
    description: AWS IAM Role ARN to assume for S3 upload
    name: role_arn 
    required: true
  - default: none
    description: Host for logging pipeline messages
    name: cmss_logger_host 
    required: true
  - default: none
    description: Host for cataloging STAC items
    name: mmgis_host 
    required: true
  - default: none
    description: MAAP secret name for MMGIS host token
    name: titiler_token_secret_name 
    required: true
  - default: none
    description: S3 URL of the ZARR config file for LIS data
    name: zarr_config_url 
    required: true
  - default: "*"
    description: Variables to extract from NetCDF (default all variables)
    name: variables
    required: false
  - default: "false"
    description: Enable Zarr concatenation step (true/false)
    name: enable_concat
    required: false
  - default: "output"
    description: Local directory for temporary downloads
    name: local_download_path
    required: false
  - default: "api.maap-project.org"
    description: MAAP API host
    name: maap_host
    required: false
  - default: "false"
    description: Enable upsert mode for catalog job (update existing items instead of failing on conflicts)
    name: upsert
    required: false
  - default: none
    description: Concept ID for zarr2cog and catalog operations (overrides collection-id for these steps)
    name: concept_id
    required: false
  - default: "time"
    description: Name of the time coordinate (default time)
    name: time_coord
    required: false
  - default: "lat"
    description: Name of the latitude coordinate (default lat)
    name: lat_coord
    required: false
  - default: "lon"
    description: Name of the longitude coordinate (default lon)
    name: lon_coord
    required: false
queue: maap-dps-czdt-worker-8gb
repository_url: https://github.com/aist-czdt/czdt-iss-ingest-job.git
run_command: czdt-iss-ingest-job/.maap/lis-preprocessing/run-lis-preprocessing.sh